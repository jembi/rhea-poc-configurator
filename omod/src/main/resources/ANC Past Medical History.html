<htmlform> 
<translations defaultLocale="en">

	<code name="hd">
		<variant locale="en" value="Heart disease"/>
		<variant locale="fr" value="Maladie du cœur"/>
	</code>
	<code name="diabetes">
		<variant locale="en" value="Diabetes"/>
		<variant locale="fr" value="Diabéte"/>
	</code>
	<code name="asthma">
		<variant locale="en" value="Asthma"/>
		<variant locale="fr" value="Asthme"/>
	</code>
	<code name="tb">
		<variant locale="en" value="Tuberculosis"/>
		<variant locale="fr" value="Tuberculose"/>
	</code>
	<code name="hbp">
		<variant locale="en" value="Hypertension"/>
		<variant locale="fr" value="Hypertension artérielle"/>
	</code>
	<code name="Small Pelvis">
		<variant locale="en" value="Small Pelvis"/>
		<variant locale="fr" value="Petit bassin"/>
	</code>
	<code name="Number of Births">
		<variant locale="en" value="Number of Births"/>

	</code>
	<code name="Loss of Conciousness While Pregnant or When Giving Birth">
		<variant locale="en" value="Loss of Conciousness While Pregnant or When Giving Birth"/>
		<variant locale="fr" value="Perte de conscience pendant la grossesse ou lors de l'accouchement"/>
	</code>
	<code name="Postconvulsive Loss of Consciousness">
		<variant locale="en" value="Postconvulsive Loss of Consciousness"/>
		<variant locale="fr" value="perte de conscience post-convulsive"/>
	</code>
	<code name="Uterine Rupture">
		<variant locale="en" value="Uterine Rupture"/>
		<variant locale="fr" value="Rupture utérine"/>
	</code>
	<code name="Excessive Bleeding">
		<variant locale="en" value="Excessive Bleeding (≥ 500ml) After Giving Birth"/>
		<variant locale="fr" value="Saigne beaucoup (≥ 500 ml) peu de temps après l'accouchement"/>
	</code>
	<code name="Gave Birth to a Child Who Died the Same Day">
		<variant locale="en" value="Gave Birth to a Child Who Died the Same Day"/>
		<variant locale="fr" value="A accouché d'un enfant décédé le même jour"/>
	</code>
	<code name="Successive Abortions">
		<variant locale="en" value="Successive Abortions"/>
		<variant locale="fr" value="Avortements successifs"/>
	</code>
	<code name="risk">
		<variant locale="en" value="Height is less than 150 cm"/>
		<variant locale="fr" value="hauteur inférieure à 150 cm"/>
	</code>
	<code name="First Pregnancy and is Above 30">
		<variant locale="en" value="First Pregnancy and is Above 30"/>
		<variant locale="fr" value="Première grossesse et la femme a plus de 30 ans"/>
	</code>
	<code name="Is Under 18 or Above 35">
		<variant locale="en" value="Is Under 18 or Above 35"/>
		<variant locale="fr" value="Femme de moins de 18 ans ou de plus de 35 ans"/>
	</code>
	<code name="Yes">
		<variant locale="en" value="Yes"/>
		<variant locale="fr" value="Oui"/>
	</code>
	<code name="No">
		<variant locale="en" value="No"/>
		<variant locale="fr" value="Non"/>
	</code>
	<code name="height">
		<variant locale="en" value="Height"/>
		<variant locale="fr" value="Taille"/>
	</code>
	<code name="pregnancies">
		<variant locale="en" value="Number Of Pregnancies"/>
		<variant locale="fr" value="Nombre de grossesses"/>
	</code>
	<code name="births">
		<variant locale="en" value="Number Of Term Births:"/>
		<variant locale="fr" value="Nombre de naissances à terme"/>
	</code>
	<code name="sbirths">
		<variant locale="en" value="Number Of Still Births"/>
		<variant locale="fr" value="Nombre d'enfants mort-nés"/>
	</code>
	<code name="children">
		<variant locale="en" value="Number Of Children Alive"/>
		<variant locale="fr" value="Nombre d'enfants"/>
	</code>
	<code name="csection">
		<variant locale="en" value="Number Of C-Sections"/>
		<variant locale="fr" value="Nombre de césariennes"/>
	</code>
	<code name="abortion">
		<variant locale="en" value="Number Of Abortions/Miscarriages"/>
		<variant locale="fr" value="Nombre d'avortements / fausses couches"/>
	</code>
	<code name="dead_children">
		<variant locale="en" value="Number Of Children Who died After Birth:"/>
		<variant locale="fr" value="Nombre d'enfants décédés après naissance"/>
	</code>
	<code name="lbdob">
		<variant locale="en" value="Date of Birth for last born"/>
		<variant locale="fr" value="Date de naissance du dernier né"/>
	</code>
	<code name="lbstatus">
		<variant locale="en" value="Last born status"/>
		<variant locale="fr" value="Status du dernier né"/>
	</code>
	<code name="Alive">
		<variant locale="en" value="Alive"/>
		<variant locale="fr" value="Né vivant"/>
	</code>
	<code name="Dead">
		<variant locale="en" value="Dead"/>
		<variant locale="fr" value="Mort-né"/>
	</code>
	<code name="Unknown">
		<variant locale="en" value="Unknown"/>
		<variant locale="fr" value="Inconnu"/>
	</code>
	<code name="lmp">
		<variant locale="en" value="First day of last menstral period "/>
		<variant locale="fr" value="Date des dernières règles "/>
	</code>
	<code name="tested">
		<variant locale="en" value="Has she been tested for HIV/AIDS?"/>
		<variant locale="fr" value="Est-ce que le patient a subi un test de dépistage du VIH?"/>
	</code>
	<code name="due_date">
		<variant locale="en" value="Approximate date of delivery"/>
		<variant locale="fr" value="Date probable d'accouchement"/>
	</code>
	<code name="partner">
		<variant locale="en" value="Did she arrive to the clinic with her partner?"/>
		<variant locale="fr" value="Est-ce que le patient est venu avec son partenaire?"/>
	</code>
	<code name="placenta">
		<variant locale="en" value="Incomplete Placenta"/>
		<variant locale="fr" value="Incomplete Placenta"/>
	</code>
	<code name="hypertension">
		<variant locale="en" value="Hypertension"/>
		<variant locale="fr" value="Hypertension"/>
	</code>
	<code name="5preg">
		<variant locale="en" value="More Than 5 pregnancies"/>
		<variant locale="fr" value="Plus de 5 grossesses"/>
	</code>
	<code name="fibroids">
		<variant locale="en" value="Uterine Fibroids"/>
		<variant locale="fr" value="Les fibromes utérins"/>
	</code>
</translations>
<script type="text/javascript">

var $ = jQuery.noConflict();
$(document).ready(function() {
	var group1 = $j("#ageOne");
	var group2 = $j("#ageTwo");
	var group3 = $j("#parity")


	var patAge = $("#age").text();
	var testAge = 17;
	var testAge1 = 38;

	if(patAge &lt; 18 ||patAge &gt; 35)
	{
		group1.find("input[type$='checkbox']").attr("checked",true);
	}
	$("#height").change(function() {
		var txt = $("#height input").val();
		var group = $j("#heightOK");
		//alert(txt);

		if(txt == null || txt == ''){
			group.find("input[type$='checkbox']").attr("checked",false);	
		}
		else if(txt &gt; 149) {                      
			group.find("input[type$='checkbox']").attr("checked",false);		
		} 

		else {

			group.find("input[type$='checkbox']").attr("checked",true);	
		}

	});

	$("#nop").change(function() {
		var txt = $("#nop input").val();
		if(txt == 1 &amp;&amp; patAge &gt; 30 ){

			group2.find("input[type$='checkbox']").attr("checked",true);
		}
		else{
			group2.find("input[type$='checkbox']").attr("checked",false);
		}

		if(txt == null || txt == ''){
			group2.find("input[type$='checkbox']").attr("checked",false);
			group3.find("input[type$='checkbox']").attr("checked",false);
		}
		else if(txt &gt; 5){
			group3.find("input[type$='checkbox']").attr("checked",true);
		}
		else{
			group3.find("input[type$='checkbox']").attr("checked",false);
		}
	});
});

</script> <script type="text/javascript">
$j(function() {
	getField('lmp.value').change(function() {
		var mp = getValue('lmp.value');
        //alert(mp);
		var d = new Date(mp);

		d.setFullYear (d.getFullYear() + 1);
		d.setMonth(d.getMonth() - 3);

		d.setDate(d.getDate() + 7);

		var curr_date = d.getDate();

		var curr_month = d.getMonth();
		curr_month++;

		var curr_year = d.getFullYear();

		var duedate = curr_year + "-" + curr_month + "-" + curr_date;


		setValue('dd.value',duedate);


	});

});
</script> 
<script type="text/javascript">       
var $ = jQuery.noConflict();
$j(document).ready(function(){
   // $("#location select").attr("disabled",true); 


});
</script>
<macros>
	paperFormId = (Fill this in) 
	headerColor =#009d8e
	fontOnHeaderColor = white 
</macros>

<style>
table.risks td {
	font-size: 0.9em;
}

.section {
	border: 1px solid$headerColor;
	padding: 2px;
	text-align: left;
	margin-bottom: 1em;
}

.sectionHeader {
	background-color: $headerColor;
	color: $fontOnHeaderColor;
	display: block;
	padding: 2px;
	font-weight: bold;
}

table.baseline-aligned td {
	vertical-align: center;
}
</style>

<span style="float: right">Paper Form ID: $paperFormId</span>
<h2>ANC Past Medical History (v1.0)</h2>
<includeIf velocityTest="$patient.gender == 'F' ">
	<section headerLabel="1. Encounter Details">
		<table class="baseline-aligned">
			<tr>
				<td>Date:</td>
				<td><encounterDate default="today" /></td>
			</tr>
			<tr>
				<td>Location:</td>
				<td><encounterLocation id="location" default="GlobalProperty:registration.defaultLocationCode"/></td>
			</tr>
			<tr>
				<td>Provider:</td>
				<td><encounterProvider id="provider" /></td>
			</tr>
		</table>
	</section>

	
	<section >
		<section headerLabel="2. OB Information">
			<table class="baseline-aligned">
				<!--<tr>

					<td><obs conceptId="6547" answerConceptIds="1065,1066"
						answerCodes="Yes,No" style="radio" labelCode="partner"/></td>
					</tr>-->
					<tr>

						<td><obs conceptId="5090" id="height" labelCode="height"/></td>
					</tr>

					<tr>

						<td><obs conceptId="5624" id="nop" labelCode="pregnancies"/></td>
					</tr>
					<tr style="display: none;">
						<td><span id="age"><lookup expression="patient.age" /></span></td>
					</tr>
					<tr>

						<td><obs conceptId="1053" labelCode="Number Of Births"/></td>
					</tr>

					<tr>

						<td><obs conceptId="9623" labelCode="births"/></td>
					</tr>
					<tr>

						<td><obs conceptId="8157" labelCode="abortion"/></td>
					</tr>




					<tr>

						<td><obs conceptId="8158" labelCode="dead_children"/></td>
					</tr>
					<tr>

						<td><obs conceptId="2649" labelCode="children"/></td>
					</tr>



					<tr>

						<td><obs conceptId="8404" labelCode="lbdob"/></td>
					</tr>
					<tr>

						<td><obs conceptId="8159" answerConceptIds="6543,6544,1067"
							answerCodes="Alive,Dead,Unknown" style="radio" labelCode="lbstatus"/></td>
						</tr>
						<tr>

							<td><obs conceptId="8143" labelCode="csection"/></td>
						</tr>
						<tr>

							<td><obs conceptId="8142" labelCode="sbirths"/></td>
						</tr>



					</table>
				</section>
				<section headerLabel=" Obstetrical risk factors/Facteurs de risque obstétricaux">
					<table class="baseline-aligned risks">
						<tr>
							<td><obs conceptId="8534" answerConceptId="8527"
								answerCodes="Small Pelvis" style="checkbox" /></td>
								<td><obs conceptId="8534" answerConceptId="8528"
									answerCodes="Loss of Conciousness While Pregnant or When Giving Birth"
									style="checkbox" /></td>
									<td><obs conceptId="8534" answerConceptId="8529"
										answerCodes="Postconvulsive Loss of Consciousness"
										style="checkbox" /></td>
									</tr>

									<tr>
										<td><obs conceptId="8534" answerConceptId="8530"
											answerCodes="Uterine Rupture" style="checkbox" /></td>
											<td><obs conceptId="8534" answerConceptId="8531"
												answerCodes="Excessive Bleeding"
												style="checkbox" /></td>
												<td><obs conceptId="8534" answerConceptId="8532"
													answerCodes="Gave Birth to a Child Who Died the Same Day"
													style="checkbox" /></td>
												</tr>
												<tr>
													<td><obs conceptId="8534" answerConceptId="8533"
														answerCodes="Successive Abortions" style="checkbox" /></td>
<!--<td><obs conceptId="8534" id="heightOK" answerConceptId="8518" style="checkbox" answerCodes="hrisk"/>
</td>-->
<td><obs conceptId="8534" answerConceptId="8518" id="heightOK" answerCodes="risk"/></td>
<td><obs id="ageTwo" conceptId="8534"
	answerConceptId="8536"
	answerCodes="First Pregnancy and is Above 30" style="checkbox" /></td>
</tr>
<tr>
	<td><obs id="ageOne" conceptId="8534"
		answerConceptId="8535" answerCodes="Is Under 18 or Above 35"
		style="checkbox" /></td>
        <td><obs conceptId="8534" answerConceptId="9618" id="parity" answerCode="5preg"/></td>
		<!--<td><obs conceptId="8534" answerConceptId="9618" answerCodes="risk" id="parity" style="checkbox" /></td>-->
		<td><obs conceptId="8534"
			answerConceptId="9617" answerCode="placenta"
			style="checkbox" /></td>
		</tr>

	</table>
</section>
<section headerLabel=" Medical Conditions/Conditions médicales">
	<table class="baseline-aligned">
		<tr>
			<td><obs conceptId="8505" answerConceptId="3305"
				style="checkbox" answerCode="hd"/></td>
				<td><obs conceptId="8505" answerConceptId="6806"
					style="checkbox" /></td>
					<td><obs conceptId="8505" answerConceptId="8504"
						style="checkbox" answerCode="fibroids"/></td>
					</tr>

					<tr>
						<td><obs conceptId="8505" answerConceptId="3720"
							style="checkbox" answerCode="diabetes"/></td>
							<td><obs conceptId="8505" answerConceptId="5"
								style="checkbox" answerCode="asthma"/></td>
								<td><obs conceptId="8505" answerConceptId="58"
									style="checkbox" answerCode="tb"/></td>
								</tr>
								<tr><td><obs conceptId="8534"
									answerConceptId="903" answerCode="hbp"
									style="checkbox"/></td>
									<td><obs conceptId="1621" style="checkbox" labelCode="tested"/></td>
								</tr>

								<tr>


								</tr>

							</table>
						</section>
						<section headerLabel=" Medical Dates">
							<table class="baseline-aligned">
								<tr>

									<td><obs conceptId="968" id="lmp" labelCode="lmp"/></td>
								</tr>
								<tr>

									<td><obs conceptId="6188" id="dd" allowFutureDates="true" labelCode="due_date"/></td>
								</tr>



							</table>
						</section>
					</section>
					<submit />
				</includeIf>
				<includeIf velocityTest="$patient.gender == 'M' ">
					<section headerLabel="Invalid Patient Message">

						<table border="0" width="100%">

							<tr><td>This Form Is Only Filled For Female Patients:</td>

							</tr>

						</table>

					</section>
				</includeIf> 

				</htmlform>